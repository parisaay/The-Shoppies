{"version":3,"sources":["searchForm.jsx","pagination.jsx","App.js","paginate.js","reportWebVitals.js","index.js"],"names":["SearchBox","value","onChange","className","htmlFor","type","name","placeholder","autoFocus","Pagination","props","pageSize","moviesCount","onPageChange","currentPage","totalPage","pages","_","range","map","page","onClick","App","useState","movies","setMovies","nominates","setNomminates","searchedMovie","setSearchedMovie","setCurrentPage","count","length","paginatedmovies","items","pageNumber","startIndex","slice","take","paginate","handleSearch","e","a","originalMovies","searchedTitle","currentTarget","basicUrl","axios","get","foundmovies","data","Response","Search","validate","movie","filter","m","imdbID","useEffect","values","keys","Object","localStorage","keyLength","i","currentValue","getItem","nominee","split","push","console","log","Title","Year","disabled","toast","error","newNominates","info","setItem","handleNominate","renderTable","nominate","filterednominates","p","removeItem","handleRemove","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","Fragment","document","getElementById"],"mappings":"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","file":"static/js/main.8a1f8c74.chunk.js","sourcesContent":["import React from 'react';\n\nconst SearchBox =({value,onChange}) =>\n   \n\n     { \n        return ( \n        \n        <form >\n        <div className=\"form-group col-2\">\n        <label htmlFor=\"search\" className=\"form-label\">Movie Title</label>\n         <input \n         className=\"form-control \"\n          type=\"text\" \n          name=\"search\" \n          value={value}\n          onChange={onChange}\n          placeholder=\"Type to search...\" autoFocus/> \n            </div>\n        \n         </form>\n         );\n    }\n\n \nexport default SearchBox;","import React from 'react';\nimport _ from 'lodash';\n\nconst Pagination = (props) => {\n   \n const { pageSize, moviesCount,onPageChange,currentPage }=props\n \n const totalPage=moviesCount/pageSize\n  \n const pages= _.range(1,totalPage+1);\n\n    \n\n\n    return ( \n    <nav>\n        <ul className=\"pagination\">\n            {pages.map(page => (\n                <li  key={page}  className={ page===currentPage ? \"page-item active\" : \"page-item\"} >\n                  <a className=\"page-link\" onClick={()=>onPageChange(page)}>{page}</a>\n                </li>\n            ))}\n            \n        </ul>\n    </nav> );\n}\n \nexport default Pagination;","import React, { useState,useEffect } from 'react';\nimport SearchBox from './searchForm';\nimport {ToastContainer,toast} from 'react-toastify'\nimport Pagination from './pagination';\nimport axios from \"axios\";\nimport './App.css';\nimport 'react-toastify/dist/ReactToastify.css'\nimport {paginate} from './paginate'\n\n\n\n\nfunction App(props){\n\nconst [movies,setMovies]=useState([]);\nconst [nominates,setNomminates]=useState([]);\nconst [searchedMovie,setSearchedMovie]=useState(\"\");\nconst [pageSize]=useState(4)\nconst [currentPage,setCurrentPage]=useState(1)\n\nconst count=movies.length\nconst paginatedmovies=paginate(pageSize,movies,currentPage)\n\nconst handleRemove=nominate=>{\n  \n  const filterednominates=nominates.filter(p=>p.imdbID!==nominate.imdbID);\n  \n  setNomminates(filterednominates)\n  localStorage.removeItem(nominate.imdbID)\n};\n\nconst handleNominate=movie=>{\n\n  if( nominates.length>=5){\n    \n    toast.error(\"All nominees have been chosen! \")\n  }\n  \n  else{\n    const newNominates=[...nominates,movie]\n    \n    \n    if(newNominates.length===5){\n      toast.info(\"You have chosen all your five nominees! \")\n    \n    }\n  \n  \n  setNomminates(newNominates)\n  console.log(newNominates)\n  for (let i=0;i<newNominates.length;i++){\n    localStorage.setItem(newNominates[i].imdbID,`${newNominates[i].Year}-${newNominates[i].Title}`)\n    \n    \n    };\n  \n  };\n}\nconst renderNominate=()=>{\n\n  if (nominates.length===0)\n  return <p>\"Nothing selected!\"</p>\n  \n return <ul>{nominates.map(nominate=>\n <li key={nominate.imdbID}>\n   {nominate.Title} {nominate.Year}\n   <button\n  className=\"btn btn-info btn-sm\"\n  onClick={() => handleRemove(nominate)}\n >\n  Remove\n </button>\n </li>)}\n </ul>\n  \n}\n\nconst renderTable=()=>{\n  if (count===0)\n  return;\n  return <div>\n  <p>Result for {searchedMovie}: Found {count} movies</p>\n \n  \n  <table className=\"table\">\n    <thead>\n      <tr>\n        <th>Title</th>\n        <th>Year</th>\n        <th>Nominate</th>\n      </tr>\n    </thead>\n    \n    \n    <tbody>\n          \n          {paginatedmovies.map((movie) => (\n            <tr key={movie.imdbID}>\n              <td>{movie.Title}</td>\n              <td>{movie.Year}</td>\n              <td>\n                <button\n                  disabled= {validate(movie)}\n                  className=\"btn btn-info btn-sm\"\n                  onClick={()=>handleNominate(movie)}\n                >\n                  Nominate\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n  </table>\n  \n  \n  \n\n  </div>\n \n  \n}\n\nconst handleSearch=async e=>{\n  const originalMovies=movies\n     const searchedTitle=e.currentTarget.value\n     setSearchedMovie(searchedTitle)\n     const basicUrl=`http://www.omdbapi.com/?apikey=bb1928f5&s=${searchedTitle}*&type=movie`\n     \n     try{\n      const {data:foundmovies}= await axios.get(basicUrl)\n      if(foundmovies.Response === \"True\")\n      {\n      setMovies(foundmovies.Search)\n    }\n    else\n    {\n      \n      setMovies([])\n\n    }\n\n     }\n    \n     catch(ex)\n     {\n      setMovies(originalMovies)\n     }\n\n\n     \n  }\n\nconst validate=movie=>{\n  const nominated=nominates.filter(m=>m.imdbID===movie.imdbID)\n  \n  if (nominated.length!==0)\n   return true;\n  return false;\n}\n\nconst handlePageChange=page=>{\n  \n  setCurrentPage(page)\n  \n}\n \nuseEffect(()=>{\nlet  values = [],\n        keys = Object.keys(localStorage),\n        keyLength = keys.length;\n    for(let i=0;i<keyLength;i++){\n      let currentValue = localStorage.getItem(keys[i])\n      let nominee = {\"imdbID\": keys[i], \"Title\": currentValue.split('-')[1], \"Year\"  :currentValue.split('-')[0]} \n        values.push(nominee);\n    }\n    console.log(values)\n    setNomminates(values)\n\n},[])\n\n\n  return (\n    <div>\n    <ToastContainer/>  \n    <SearchBox value={searchedMovie}  onChange={handleSearch} />\n    <div className=\"row\">\n    <div className=\"col-5\">\n    {renderTable()}\n    <div>{count>0 ? (<Pagination   pageSize={pageSize} moviesCount={count}  currentPage={currentPage} onPageChange={handlePageChange}  />) : null } </div>\n    \n     \n    </div>\n    \n    <div className=\"col+6\">\n      <p>Nominations</p>\n    {renderNominate()}\n    </div>\n    </div>\n     </div>)\n}\n\nexport default App;\n","import _ from 'lodash'\n\nexport const paginate=(pageSize,items,pageNumber)=>{\nconst startIndex=(pageNumber-1)* pageSize   \nreturn _(items)\n.slice(startIndex)\n.take(pageSize)\n.value()\n}\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.css';\n//import 'font-awesome/css/font-awesome.css';\n\nReactDOM.render(\n  <React.Fragment>\n    <App />\n    </React.Fragment>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}